---
layout: post
title: "Instacart - Answering Business Questions "
subtitle: "An analysis project for an online grocer"
date: 2023-12-21 10:45:13 -0400
background: '/img/posts/instacart-logo-wordmark.jpg'
---

<p>Instacart is a real online grocer that has made some of its data available for download and use. The customer dataset used as part of the analysis was synthesised and contains data on number of dependencies, income and more.</p>

<p>Several important business questions were answered to allow the hypothetical marketing department to better target its customer segments, as well as gleam insights into some of the operational aspects of the business. What follows is a presentation of the steps taken to uncover these findings, how this was done and the recommendations based thereon.</p>

<p>In search of answers to questions like:
    <ol>What are busiest days of the week?</ol>	
    <ol>What are the busiest hours of the day?</ol>    	
    <ol>Are there particular hours of the day where spending is the most?	</ol>
    <ol>What are the price range groupings like?</ol>	
    <ol>Are there certain types pf products are more popular than others?</ol>	
    <ol>Are there differences in ordering habits based on customer loyalty?</ol>  	
    <ol>Are there differences in ordering habits based on a customer’s region?	</ol>  
    <ol>Is there a connection between age and family status in terms of ordering habits?</ol>  
</p>

<p>To answer these questions and gleam further insights into the sales patterns of Instacart, I used Python and a host of powerful libraries</p>

<p>Tools:
    <ol>
        <li>Python</li>
        <li>Jupyter Notebooks</li>
        <li>Libraries : Pandas, NumPy, Seaborn, Matplotlib,</li>
    </ol>
</p>

<p>Data:
    <ol>
        <li>open source data</li>
        <li>>3 Million Rows</li>
        <li>23 numeric & categorical variables</li>
        <li>Joins: Order, product, customer & Department </li>
    </ol>
</p>

<p>Let's Begin!</p>

<h2 class="section-heading">Step 1: Initial Exploration & Cleaning</h2>

<p>The first steps in this analysis involved inspecting the orders (transactions) and products data frames, to get an understanding of the shape of the imported data frames and the basic statistical descriptives.</p>

<p>Next were consistency checks. Here I wrote code to search for missing values and mixed value types in the columns. I investigated missing values by creating subsets for the missing values. Some rows were deleted. Where there were missing values for the “days since prior order column I established that these were new customers. I dealt with this in the next stage.</p>

<img class="img-fluid" src="/img/posts/instacart_missing_values.png" alt="Missing Values in Orders data frame">

<h2 class="section-heading">Step 2: Data Wrangling</h2>

<p>In this step I first identified columns which were unnecessary for the analysis and dropped them from the dataframe. I also renamed some columns for easier understanding and changed the 'order_id' column from integer to string type.</p>

<h2 class="section-heading">Step 3: Merging Data Sets</h2>

<p>Before merging the datasets to one composite table, I confirmed the shapes of the data sets. This means looking at the number of rows and columns in each, so that I can choose the appropriate type of join.</p>

<p>I joined the data sets using the “product_id” column since they had this in common. This could be termed a left join since the orders data frame was the ‘longest’ and could slot-in the other data frames.</p>

<img class="img-fluid" src="/img/posts/instacart_merge.png" alt="Code merging two data sets">
<span class="caption text-muted">It's important to use a variable that two tables have in common</span>

<p>I confirmed the success of the join with a ‘True-False’ indicator. The join was successful and there were no false flags. Now it was time to begin deriving new columns/variables.</p>

<img class="img-fluid" src="/img/posts/instacart_merge_success.png" alt="frequency count of full joins">

<p>Now that I had the single data frame, I could begin creating customer profiles and much more. </p>

<h2 class="section-heading">Step 4: Deriving new columns/variables</h2>

<p>In order to answer questions and gleam new insights into the sales patterns of Instacart, I derived new columns which created labels based on certain parameters.</p>

<p>I used if statements to create a new column which created a label for low, medium and high priced items.</p>

<img class="img-fluid" src="/img/posts/instacart_price_ranges.png" alt="Python code shown for If Statements">
<span class="caption text-muted">If statements are just one of the ways I could have done this</span>

<p>I generated a frequency count for number of order for each hour of day. Then created labels for ‘fewest-’, ‘average-’ and ‘most orders’ in the newly created ‘busiest hours of day’ column.</p>

<img class="img-fluid" src="/img/posts/instacart_order_hour_of_day.png" alt="Python code shown for If Statements">

<p>Now we can look at further groupings…</p>

<h2 class="section-heading">Step 5: Grouping Data</h2>

<p>I used grouping() and transform() functions to create a column which states the maximum number of orders per unique customer id. This ‘max’ value will then show up wherever the user_id comes up.</p>

<img class="img-fluid" src="/img/posts/instacart_order_hour_of_day.png" alt="Python code showing transform function">

<p>Thereafter I used the loc() function again to create a loyalty flag column wherein each user_id was marked as either a ‘new’, ‘regular’ or ‘loyal’ customer based on the number of maximum orders for that customer (user_id).</p>
<p></p>
<p></p>
<p></p>
<p>Placeholder text by <a href="http://spaceipsum.com/">Space Ipsum</a>. Photographs by <a href="https://unsplash.com/">Unsplash</a>.</p>
